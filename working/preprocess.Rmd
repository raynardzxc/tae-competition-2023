---
title: "Preprocess Data"
output: html_notebook
---

# Data Pre-processing
## Import Libraries
```{r}
rm(list=ls())
# Execute our custom script for loading packages
source("usePackages.R")
# Name of the packages 
pkgnames <- c("dplyr","caret")
# Use our custom load function
loadPkgs(pkgnames)
```

## Import Data
```{r}
safety <- read.csv("../input/train.csv")
str(safety)
head(safety)
```
## Add Choice
```{r}
safety$Choice <- ifelse(safety$Ch1 == 1, 1,
                        ifelse(safety$Ch2 == 1, 2,
                               ifelse(safety$Ch3 == 1, 3,
                                      ifelse(safety$Ch4 == 1, 4, NA))))
table(safety$Choice)
```

## One-hot Encoding
```{r}
dummy <- dummyVars(" ~ .", data=safety)
newdata <- data.frame(predict(dummy, newdata = safety)) 
head(newdata)
```

## Export
```{r}
# Writing the output to a csv file
write.csv(newdata, file = "../input/train_preprocessed.csv", row.names = FALSE)
```

